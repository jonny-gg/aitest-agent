# Go、C、C++ 测试生成功能对比

## 🎯 快速对比表

| 功能特性 | Go | C++ | C | 说明 |
|---------|----|----|---|-----|
| 智能测试策略 | ✅ | ✅ | ✅ | 根据代码复杂度自动决定测试数量 |
| 代码复杂度分析 | ✅ | ✅ | ✅ | 计算可执行行数和圈复杂度 |
| 详细 Prompt 模板 | ✅ | ✅ | ✅ | 200+ 行详细指导 |
| 参数提取 | ✅ | ✅ | ✅ | 完整的参数类型和名称 |
| 返回类型提取 | ✅ | ✅ | ✅ | 包括复杂类型 |
| 命名空间支持 | ✅ | ✅ | N/A | Go 的 package，C++ 的 namespace |
| 模板支持 | ✅ | ✅ | N/A | Go 的 generics，C++ 的 template |
| 类/结构体分析 | ✅ | ✅ | ✅ | 继承关系、字段提取 |
| 测试框架 | Ginkgo, go_test | Google Test, Catch2 | CUnit, Unity | |
| 代码独立性 | ✅ | ✅ | ✅ | 三种语言完全隔离 |

## 📊 测试用例数量策略（统一）

所有三种语言使用**相同的智能策略**：

| 代码复杂度 | 测试用例数量 | 分配 |
|-----------|------------|------|
| 简单 (< 10 行) | 2-3 个 | 40% 正常 + 30% 边界 + 30% 异常 |
| 中等 (10-30 行) | 4-6 个 | 40% 正常 + 30% 边界 + 30% 异常 |
| 复杂 (30-50 行) | 7-10 个 | 40% 正常 + 30% 边界 + 30% 异常 |
| 超复杂 (> 50 行) | 11-15 个 | 40% 正常 + 30% 边界 + 30% 异常 |

## 🔧 各语言特色功能

### Go 语言独有
- ✅ 混合模式生成（模板 + AI）
- ✅ 自动 go.mod 模块路径检测
- ✅ Ginkgo 套件模板自动补充
- ✅ 同包测试支持

### C++ 独有
- ✅ 命名空间递归遍历
- ✅ 类继承关系分析
- ✅ 模板函数/类检测
- ✅ 智能指针测试建议
- ✅ 异常安全测试指导

### C 独有
- ✅ 结构体字段提取
- ✅ 指针安全测试重点
- ✅ NULL 处理测试
- ✅ 内存泄漏检测建议
- ✅ 缓冲区边界测试

## 💡 使用建议

### 选择测试框架

**Go 项目**：
- 微服务项目 → Ginkgo（BDD 风格）
- 标准项目 → go_test（简单直接）

**C++ 项目**：
- 现代 C++ 项目 → Google Test（推荐）
- 轻量级项目 → Catch2（header-only）

**C 项目**：
- 标准项目 → CUnit（完整功能）
- 嵌入式项目 → Unity（轻量级）

### 最佳实践

1. **让智能策略工作**
   - 不需要手动指定测试数量
   - 系统会根据代码复杂度自动优化

2. **关注代码质量**
   - 复杂函数会生成更多测试
   - 简化函数逻辑可减少测试维护成本

3. **利用详细 Prompt**
   - AI 会生成符合最佳实践的测试
   - 包含清晰的注释和命名

4. **语言隔离**
   - 三种语言互不影响
   - 可以在同一项目中混用（如 C++ 调用 C 库）

## 🚀 快速开始

### Go 项目
```python
project = {
    "language": "golang",
    "test_framework": "ginkgo",  # 或 "go_test"
    "source_directory": "internal/biz",
    # 其他配置...
}
```

### C++ 项目
```python
project = {
    "language": "cpp",
    "test_framework": "google_test",  # 或 "catch2"
    "source_directory": "src",
    # 其他配置...
}
```

### C 项目
```python
project = {
    "language": "c",
    "test_framework": "cunit",  # 或 "unity"
    "source_directory": "src",
    # 其他配置...
}
```

## ✅ 结论

现在三种语言的测试生成质量**完全一致**！

- 都使用智能测试策略
- 都有详细的最佳实践指导
- 都支持高级语言特性
- 都完全独立，互不干扰

选择任何一种语言，都能获得**相同质量**的测试生成体验！🎉

